define("block_townsquare/timefilter",["exports"],(function(_exports){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=function(){currenttime=(new Date).getTime()/1e3,alltimebutton.forEach((function(button){button.addEventListener("click",(function(){timestart=currenttime-convertidtotime(button.id),timeend=currenttime+convertidtotime(button.id),addstarttime=0,addendtime=0,futureradiobuttons.forEach((function(futureradiobutton){futureradiobutton.checked=!1,futureradiobutton.parentNode.classList.remove("active")})),pastradiobuttons.forEach((function(pastradiobutton){pastradiobutton.checked=!1,pastradiobutton.parentNode.classList.remove("active")})),executefilter(timestart,timeend,addstarttime,addendtime,button.checked)}))})),futureradiobuttons.forEach((function(button){button.addEventListener("click",(function(){alltimebutton.forEach((function(alltimebutton){alltimebutton.checked=!1,alltimebutton.parentNode.classList.remove("active")})),timestart=currenttime,timeend=currenttime+convertidtotime(button.id),addstarttime=0,addendtime=0,pastradiobuttons.forEach((function(pastradiobutton){pastradiobutton.parentNode.classList.contains("active")&&(addstarttime=currenttime-convertidtotime(pastradiobutton.id),addendtime=currenttime)})),executefilter(timestart,timeend,addstarttime,addendtime,button.checked)}))})),pastradiobuttons.forEach((function(button){button.addEventListener("click",(function(){alltimebutton.forEach((function(alltimebutton){alltimebutton.checked=!1,alltimebutton.parentNode.classList.remove("active")})),timestart=currenttime-convertidtotime(button.id),timeend=currenttime,addstarttime=0,addendtime=0,futureradiobuttons.forEach((function(futureradiobutton){futureradiobutton.parentNode.classList.contains("active")&&(addstarttime=currenttime,addendtime=currenttime+convertidtotime(futureradiobutton.id))})),executefilter(timestart,timeend,addstarttime,addendtime,button.checked)}))}))};
/**
   * Javascript for the time filter
   *
   * This file implements 1 functionality:
   * - Checks, which of the radio buttons is pressed and filters the content based on the time.
   *
   * @module     block_townsquare/timefilter
   * @copyright  2024 Tamaro Walter
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */
const alltimebutton=document.querySelectorAll(".ts_all_time_button"),futureradiobuttons=document.querySelectorAll(".ts_future_time_button"),pastradiobuttons=document.querySelectorAll(".ts_past_time_button");let currenttime,timestart,timeend,addstarttime,addendtime;function executefilter(starttime,endtime,addstarttime,addendtime,buttonstate){document.querySelectorAll(".townsquare_letter").forEach((function(letter){letter.style.display="none";let lettertime=letter.querySelector(".townsquareletter_date").id;(buttonstate&&lettertime>=starttime&&lettertime<=endtime||lettertime>=addstarttime&&lettertime<=addendtime)&&(letter.style.display="block")}))}function convertidtotime(id){switch(id){case"ts_time_all":return 15778463;case"ts_time_next_twodays":case"ts_time_last_twodays":return 172800;case"ts_time_next_fivedays":case"ts_time_last_fivedays":return 432e3;case"ts_time_next_week":case"ts_time_last_week":return 604800;case"ts_time_next_month":case"ts_time_last_month":return 2592e3}}}));

//# sourceMappingURL=timefilter.min.js.map